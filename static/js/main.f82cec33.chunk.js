(this["webpackJsonpblob-ecology"]=this["webpackJsonpblob-ecology"]||[]).push([[0],{154:function(t,e,a){"use strict";a.r(e);var n=a(0),o=a.n(n),i=a(20),s=a.n(i),r=(a(33),a(3)),c=a(4),l=a(6),u=a(5),m=a(11),p=a.n(m),h=a(10),f=a(30),d=a.n(f),v=(o.a.Component,a(24)),g=a(12),b=a(25),y=a(16),x=a.n(y),M=a(54),w=a.n(M),j=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.refreshRate,i=void 0===a?30:a,s=function(e){Object(l.a)(n,e);var a=Object(u.a)(n);function n(){var t;Object(r.a)(this,n);for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return(t=a.call.apply(a,[this].concat(o))).state={time:0,tick:0},t.startLoop=function(){var e,a,n=1e3/i;a=-n;t._r=x()((function o(i){t._r=x()(o),e||(e=i),i-a>n&&(a=i,t.setState({time:i-e,tick:t.state.tick+1}))}))},t.onPausedChange=function(e){e?x.a.cancel(t._r):t.startLoop()},t}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.onPausedChange(this.props.paused)}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){var e=t.paused;this.props.paused!==e&&this.onPausedChange(e)}},{key:"componentWillUnmount",value:function(){x.a.cancel(this._r)}},{key:"render",value:function(){return o.a.createElement(t,Object.assign({},this.props,this.state))}}]),n}(n.PureComponent);return s.displayName="timeLoop(".concat(t.displayName||t.name||"",")"),w()(s,t),s};function k(){var t=Object(v.a)(["\nprecision highp float;\nvarying vec2 uv;\nuniform sampler2D t;\nuniform vec2 mouse;\nuniform float time, level, throb;\nuniform vec3 bins;\nvec2 lookup (vec2 offset, float amp2) {\n  return uv + amp2 * bins.z*throb * vec2(cos(bins.x*(uv.x+offset.x)+time), sin(bins.y*(uv.y+offset.x)+time));\n}\nvoid main() {\n  float dist = distance(uv, mouse);\n  float amp2 = pow(1.0 - dist, 2.0);\n  float colorSeparation = 0.02 * mix(amp2, 1.0, 0.5);\n  vec2 orientation = vec2(1.0, 0.0);\n  vec4 cull = vec4(vec3(\n    texture2D(t, lookup(colorSeparation * orientation, amp2)).r,\n    texture2D(t, lookup(-colorSeparation * orientation, amp2)).g,\n    texture2D(t, lookup(vec2(0.0), amp2)).b),\n    1.0);\n\n  if(0.25<(cull.r-cull.g)){\n    cull.a *= abs(sin(3.1415926538*level/0.5));\n  }\n  if(0.25<(cull.b-cull.r)){\n    cull.a *= abs(sin(3.1415926538*level/0.5 - 0.25));\n  }\n  if(0.25<(cull.g-cull.b)){\n    cull.a *= abs(sin(3.1415926538*level/0.5 - 0.5));\n  }\n  cull.a *= 1.0 - pow((0.5*sin((2.0*uv.x*3.1415926538)+(3.1415926538/2.0))+0.5), 10.0);\n  cull.a *= 1.0 - pow((0.5*sin((2.0*uv.y*3.1415926538)+(3.1415926538/2.0))+0.5), 10.0);\n\n  gl_FragColor = cull;\n}\n"]);return k=function(){return t},t}var O=g.Shaders.create({fftGloop:{frag:Object(g.GLSL)(k())}});var E=j((function(t){var e=t.children,a=t.time,n=t.mouse,i=(t.meter,t.fft,t.throb);return o.a.createElement(g.Node,{shader:O.fftGloop,uniforms:{t:e,time:a/1e3,mouse:n,bins:[.1,.1,.1],level:.05+Math.max(0,.03*Math.cos(.001*a)),throb:i}})})),C=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).state={mouse:[.5,.5]},t.onMouseMove=function(e){var a=e.target.getBoundingClientRect();t.setState({mouse:[(e.clientX-a.left)/a.width,(a.bottom-e.clientY)/a.height]})},t}return Object(c.a)(a,[{key:"render",value:function(){var t=this.state.mouse;return o.a.createElement("div",{className:this.props.styleClass},o.a.createElement(b.Surface,{width:this.props.width,height:this.props.height,onMouseMove:this.onMouseMove},o.a.createElement(E,{mouse:t,meter:this.props.meter,fft:this.props.fft,throb:this.props.movement},this.props.canvasImg)))}}]),a}(n.Component);function S(){var t=Object(v.a)(["\nprecision highp float;\nvarying vec2 uv;\nuniform sampler2D t;\nuniform vec2 mouse;\nuniform float time, level, throb;\nuniform vec3 bins;\nvec2 lookup (vec2 offset, float amp2) {\n  return uv + amp2 * bins.z*throb * vec2(cos(bins.x*(uv.x+offset.x)+time), sin(bins.y*(uv.y+offset.x)+time));\n}\nvoid main() {\n  float dist = distance(uv, mouse);\n  float amp2 = pow(1.0 - dist, 2.0);\n  float colorSeparation = 0.02 * mix(amp2, 1.0, 0.5);\n  vec2 orientation = vec2(1.0, 0.0);\n  vec4 cull = vec4(vec3(\n    texture2D(t, lookup(colorSeparation * orientation, amp2)).r,\n    texture2D(t, lookup(-colorSeparation * orientation, amp2)).g,\n    texture2D(t, lookup(vec2(0.0), amp2)).b),\n    1.0);\n\n  if(0.25<(cull.r-cull.g)){\n    cull.a *= abs(sin(3.1415926538*level/0.5));\n  }\n  if(0.25<(cull.b-cull.r)){\n    cull.a *= abs(sin(3.1415926538*level/0.5 - 0.25));\n  }\n  if(0.25<(cull.g-cull.b)){\n    cull.a *= abs(sin(3.1415926538*level/0.5 - 0.5));\n  }\n  cull.a *= 1.0 - pow((0.5*sin((2.0*uv.x*3.1415926538)+(3.1415926538/2.0))+0.5), 10.0);\n  cull.a *= 1.0 - pow((0.5*sin((2.0*uv.y*3.1415926538)+(3.1415926538/2.0))+0.5), 10.0);\n\n  gl_FragColor = cull;\n}\n"]);return S=function(){return t},t}var P=g.Shaders.create({fftGloop:{frag:Object(g.GLSL)(S())}});for(var N,D=j((function(t){var e=t.children,a=t.time,n=t.mouse,i=(t.meter,t.fft,t.throb);return o.a.createElement(g.Node,{shader:P.fftGloop,uniforms:{t:e,time:a/1e3,mouse:n,bins:[.1,.1,.1],level:.05+Math.max(0,.03*Math.cos(.001*a)),throb:i}})})),z=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).state={mouse:[.5,.5]},t.onMouseMove=function(e){var a=e.target.getBoundingClientRect();t.setState({mouse:[(e.clientX-a.left)/a.width,(a.bottom-e.clientY)/a.height]})},t}return Object(c.a)(a,[{key:"render",value:function(){var t=this.state.mouse;return o.a.createElement("div",{className:this.props.styleClass},o.a.createElement(b.Surface,{width:this.props.width,height:this.props.height,onMouseMove:this.onMouseMove},o.a.createElement(D,{mouse:t,meter:this.props.meter,fft:this.props.fft,throb:this.props.movement},this.props.canvasImg)))}}]),a}(n.Component),L=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(r.a)(this,a),(n=e.call(this,t)).handleMouseMove=function(t){n.mouseVec={x:t.pageX-n.mouseCoords.x,y:t.pageY-n.mouseCoords.y},n.mouseCoords={x:t.pageX,y:t.pageY}},n.handleMouseHover=n.handleMouseHover.bind(Object(h.a)(n)),n.state={x:n.props.left+Math.random()*n.props.density,y:n.props.top+Math.random()*n.props.density,w:10+Math.random()*n.props.width,h:10+Math.random()*n.props.height,imgPos:{x:-866*Math.random(),y:-1e3*Math.random()},classlist:"island appear"},n.mouseCoords={x:0,y:0},n.mouseVec={x:0,y:0},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("mousemove",this.handleMouseMove,!1)}},{key:"handleMouseHover",value:function(){var t=this;this.setState({classlist:"island disappear"}),setTimeout((function(e,a){t.setState({x:t.state.x+6*e,y:t.state.y+6*a,classlist:"island appear"})}),400,this.mouseVec.x,this.mouseVec.y)}},{key:"render",value:function(t){var e=this;return o.a.createElement("div",{className:this.state.classlist,style:{left:this.state.x+"px",top:this.state.y+"px",width:this.state.w+"px",height:this.state.h+"px",backgroundPosition:this.state.imgPos.x+"px "+this.state.imgPos.y+"px"},onMouseEnter:function(){e.props.onHoverSelect(),e.handleMouseHover()}})}}]),a}(o.a.Component),G=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(r.a)(this,a),(n=e.call(this,t)).initializePlayer=n.initializePlayer.bind(Object(h.a)(n)),n.handlePlayer=n.handlePlayer.bind(Object(h.a)(n)),n.handleClick=n.handleClick.bind(Object(h.a)(n)),n.state={player:new p.a.Player({url:n.props.audioPath,onload:n.initializePlayer,loop:!0,fadeIn:0,fadeOut:0}),env:new p.a.AmplitudeEnvelope({attack:.1,decay:.1,sustain:1,release:.3}),isZoomed:!1,islands:[1,2,3,4,5,6,7,8,9,10]},n.timer=null,n}return Object(c.a)(a,[{key:"initializePlayer",value:function(){this.state.env.toMaster(),this.state.env.connect(this.props.gain),this.state.player.connect(this.state.env)}},{key:"handlePlayer",value:function(){var t=this;clearTimeout(this.timer),this.state.player.start(0,Math.random()*this.state.player.buffer.duration),this.state.env.triggerAttack(),this.timer=setTimeout((function(){t.state.env.triggerRelease()}),750)}},{key:"handleClick",value:function(){this.setState({isZoomed:!this.state.isZoomed})}},{key:"render",value:function(t){var e=this;return o.a.createElement("span",null,this.state.islands.map((function(t,a){return o.a.createElement(L,{key:"island"+a,left:e.props.left,top:e.props.top,density:100,width:40,height:40,onHoverSelect:e.handlePlayer})})))}}]),a}(o.a.Component),H=["anton","arvo","courier","merriweather","nanum","source-code"],_=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(r.a)(this,a),(n=e.call(this,t)).state={letters:["how","not","t","o","f","a","l","l","p","r","e","y","to","t","h","e","a","r","c","h","i","v","e","?"]},n}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"testarch"},this.state.letters.map((function(t,e){return o.a.createElement(d.a,{handle:".handle"},o.a.createElement("div",{className:"handle"},o.a.createElement("p",{key:"letter"+e,className:"testcnv "+H[Math.floor(Math.random()*H.length)],style:{left:50*e+40*Math.random()+"px",top:30*Math.sin(.25*e)+10*Math.random()+"px",fontSize:25+Math.floor(35*Math.random())+"px",transform:"rotate3d("+Math.random()+", "+Math.random()+", "+Math.random()+", 10deg)"}},t)))})))}}]),a}(o.a.Component),A=a(55),F=a.n(A),I=a(56),R=a.n(I),T=[],V=[],X=["red","cherry","purple","green","mauve","orangeRed"],Y=["/assets/algae.jpg","/assets/scrapchi.png","/assets/grim.jpeg","/assets/icecast.jpeg","/assets/manytimes.png","/assets/resonance.jpeg","/assets/pedaling.jpeg"],B=0;B<6;B++){T[B]=[];for(var W=0;W<6;W++)T[B][W]={x:B*window.innerWidth/6,y:W*window.innerHeight/6,diameter:200,rotation:90*Math.random(),radii:[60*Math.random()+15,60*Math.random()+15,60*Math.random()+15,60*Math.random()+15,60*Math.random()+15,60*Math.random()+15,60*Math.random()+15,60*Math.random()+15],color:X[Math.floor(Math.random()*X.length)],image:"/assets/cull/cull"+Math.floor(6*Math.random())+".png",animate:!1}}for(var Z=(N=[]).concat.apply(N,T),J=0;J<Y.length;J++)V[J]=Math.floor(Math.random()*Z.length);console.log(V);for(var U=0;U<V.length;U++)Z[V[U]].image=Y[U],Z[V[U]].animate=!0;var q=Z.filter((function(t){return t.animate})),K=Z.filter((function(t){return!t.animate})),Q=a(57),$=a.n(Q),tt=a(31),et=a.n(tt),at=a(58),nt=a.n(at),ot=a(59),it=a.n(ot),st=a(60),rt=a.n(st),ct=a(61),lt=a.n(ct),ut=a(62),mt=a.n(ut),pt=a(63),ht=a.n(pt),ft=a(64),dt=a.n(ft),vt=a(65),gt=a.n(vt),bt=a(66),yt=a.n(bt),xt=a(67),Mt=a.n(xt),wt=a(68),jt=a.n(wt),kt=a(69),Ot=a.n(kt),Et=a(70),Ct=a.n(Et),St=a(71),Pt=a.n(St),Nt=a(72),Dt=a.n(Nt),zt=a(73),Lt=a.n(zt),Gt=a(74),Ht=a.n(Gt),_t=a(75),At=a.n(_t),Ft=($.a,et.a,nt.a,it.a,rt.a,lt.a,mt.a,ht.a,dt.a,gt.a,yt.a,Mt.a,jt.a,Ot.a,Ct.a,Pt.a,Dt.a,Lt.a,Ht.a,At.a,function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(r.a)(this,a),(n=e.call(this,t)).state={still:K,gloopy:q,zoom:1,follower:new p.a.Follower(.3),meter:new p.a.Meter,gain:new p.a.Gain(4),fft:new p.a.FFT(16)},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.state.follower.connect(this.state.meter),this.state.gain.connect(this.state.fft),this.state.gain.connect(this.state.follower)}},{key:"render",value:function(t){return o.a.createElement("div",{className:"weltanschauung"},o.a.createElement("div",{className:"oblong-black"}),o.a.createElement(z,{styleClass:"culling-bottom",width:600,height:282,meter:this.state.meter,fft:this.state.fft,canvasImg:F.a,movement:.3}),o.a.createElement(C,{styleClass:"culling-zoom",width:400,height:182,meter:this.state.meter,fft:this.state.fft,canvasImg:R.a,movement:.7}),o.a.createElement(G,{left:730,top:440,audioPath:et.a,gain:this.state.gain}),o.a.createElement(_,null),o.a.createElement("div",{className:"bottom"},"hola"))}}]),a}(o.a.Component));var It=function(){return o.a.createElement(Ft,null)};s.a.render(o.a.createElement(It,null),document.getElementById("root"))},31:function(t,e,a){t.exports=a.p+"static/media/chandelier.8db3d1de.mp3"},33:function(t,e,a){},55:function(t,e,a){t.exports=a.p+"static/media/culling-bottom-low-res.6b4497e5.png"},56:function(t,e,a){t.exports=a.p+"static/media/culling-top-low-res-top-left-corner.3737b2f3.png"},57:function(t,e,a){t.exports=a.p+"static/media/arp.04268963.mp3"},58:function(t,e,a){t.exports=a.p+"static/media/collectors.1b8ae12b.mp3"},59:function(t,e,a){t.exports=a.p+"static/media/comeon.7605227f.mp3"},60:function(t,e,a){t.exports=a.p+"static/media/ehorn.4d484f72.mp3"},61:function(t,e,a){t.exports=a.p+"static/media/falling.af34ff40.mp3"},62:function(t,e,a){t.exports=a.p+"static/media/flick.277ca5dd.mp3"},63:function(t,e,a){t.exports=a.p+"static/media/glassy.7a6f84e0.mp3"},64:function(t,e,a){t.exports=a.p+"static/media/mmmwow.20b47ea0.mp3"},65:function(t,e,a){t.exports=a.p+"static/media/oiltin.ef857773.mp3"},66:function(t,e,a){t.exports=a.p+"static/media/pluck.c566d93e.mp3"},67:function(t,e,a){t.exports=a.p+"static/media/squeaky.ab2b5a67.mp3"},68:function(t,e,a){t.exports=a.p+"static/media/svvimming1.f1f486bc.mp3"},69:function(t,e,a){t.exports=a.p+"static/media/svvimming2.976036b4.mp3"},70:function(t,e,a){t.exports=a.p+"static/media/svvimming3.128c48bd.mp3"},71:function(t,e,a){t.exports=a.p+"static/media/svvimming4.c8b7e076.mp3"},72:function(t,e,a){t.exports=a.p+"static/media/svvimming5.8ab3d69a.mp3"},73:function(t,e,a){t.exports=a.p+"static/media/tongue.c6cca788.mp3"},74:function(t,e,a){t.exports=a.p+"static/media/whoops.8a4c6862.mp3"},75:function(t,e,a){t.exports=a.p+"static/media/yes.6f937b54.mp3"},76:function(t,e,a){t.exports=a(154)}},[[76,1,2]]]);
//# sourceMappingURL=main.f82cec33.chunk.js.map